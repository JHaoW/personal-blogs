#### 配置eslint

1. 安装相关依赖

   ```js
   eslint
   eslint-plugin-import
   @typescript-eslint/eslint-plugin
   @typescript-eslint/parser 
   // 包含react配置
   eslint-config-airbnb
   eslint-config-airbnb-typescript
   // 不包含react配置
   eslint-config-airbnb-base
   ```

2. 增加配置文件（到这一步可以通过运行脚本来进行代码检测）

   ```yaml
   root: true
   parser: "@typescript-eslint/parser"
   env:
     es6: true
     node: true
     commonjs: true
     mocha: true
   extends:
     - "airbnb-typescript" # node端使用eslint-config-airbnb-base，否则使用ts文件会报错
   plugins:
     - "@typescript-eslint/eslint-plugin"
     - "import"
   # 如果是ts项目的话，需要配置parserOptions.project来指向ts配置文件
   parserOptions:
     project: "./tsconfig.json"
   ```

3. vscode安装eslint，项目下增加*.code-workspace，保存会自动修复。code-workspace文件用来定义工作区，这部分的配置也可以放到vscode的默认配置中。

   如果配置了code-workspace，可以不使用prettier，使用prettier易和eslint冲突

   ```
   {
       "folders": [
           {
               "path": "."
           }
       ],
       "settings": {
           "editor.codeActionsOnSave": { // 保存时自动fix
               "source.fixAll.eslint": true
           },
           "eslint.quiet": true,
           "search.exclude": {
               "**/dist*": true,
               "**/tsconfig*": true,
               "**/.*": true
           }
       }
   }
   ```



#### 配置git hooks

1. 安装simple-git-hooks 和 lint-staged

2. Package.json增加配置

   ```json
   "simple-git-hooks": {
     	"pre-commit": "npx lint-staged"
   },
   "lint-staged": {
     	"*.{ts,tsx}": ["eslint --fix"]
   },
   ```

3. Package.json增加脚本，在进行install的时候配置simple-git-hooks

   ```
   "scripts": {
       "postinstall": "simple-git-hooks"
   },
   ```

   